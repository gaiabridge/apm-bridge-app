"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const skynode_1 = require("@hanul/skynode");
const Form_1 = __importDefault(require("./Form"));
class Swaper extends skynode_1.DomNode {
    constructor() {
        super(".swaper");
        this.loadHistoryNonce = 0;
        this.append((0, skynode_1.el)("section.swap-container", (0, skynode_1.el)(".form-container", (this.fromForm = new Form_1.default(this, 8217, true)), (0, skynode_1.el)("img.arrow", { src: "/images/shared/icn/icn-arrow-right.svg", height: "50", alt: "icn-arrow-right" }), (this.toForm = new Form_1.default(this, 1))), (0, skynode_1.el)(".amount-container", (0, skynode_1.el)(".title", "Amount"), (0, skynode_1.el)(".input-container", this.amountInput = (0, skynode_1.el)("input"))), (0, skynode_1.el)(".fee-container", (0, skynode_1.el)(".text-container", (0, skynode_1.el)(".title", "Fees"), (0, skynode_1.el)(".caption", "0.3% (Charged by Gaia Protocol)")), (0, skynode_1.el)(".text-container", this.feeDisplay = (0, skynode_1.el)(".amount", this.numberWithCommas("30")), (0, skynode_1.el)(".amount-caption", "APM"))), (0, skynode_1.el)(".received-container", (0, skynode_1.el)(".text-container", (0, skynode_1.el)(".title", "Estimated Received")), (0, skynode_1.el)(".text-container", this.feeDisplay = (0, skynode_1.el)(".amount", this.numberWithCommas("9999999", 3)), (0, skynode_1.el)(".amount-caption", "APM"))), (0, skynode_1.el)(".warning-container", (0, skynode_1.el)(".content", (0, skynode_1.el)("img", { src: "/images/shared/icn/icn-warning.svg", alt: "icn-warning.svg" }), (0, skynode_1.el)("p", "Gas costs are required for both chains to use the bridge."))), (0, skynode_1.el)(".button-container", (0, skynode_1.el)(".content", (0, skynode_1.el)("button.disable-button", "Approve"), (0, skynode_1.el)("button", "Transfer")))), (0, skynode_1.el)("section.history-container", (0, skynode_1.el)(".title", "The historical records"), (0, skynode_1.el)("p", "Once the transfer has started, Can’t cancel. Please ‘Retry’ if any transfers are missing."), (0, skynode_1.el)("table", (0, skynode_1.el)("thead", (0, skynode_1.el)("tr", (0, skynode_1.el)("td", "From Chain"), (0, skynode_1.el)("td", "To Chain"), (0, skynode_1.el)("td", "Amount"), (0, skynode_1.el)("td", "Fee"), (0, skynode_1.el)("td", "Time"), (0, skynode_1.el)("td", "Status"))), (0, skynode_1.el)("tbody", (0, skynode_1.el)("tr", (0, skynode_1.el)("td", (0, skynode_1.el)(".chain-container", (0, skynode_1.el)("img", { src: "/images/shared/icn/icn-klaytn.svg", alt: "icn-klaytn" }), (0, skynode_1.el)("p", "Klaytn"))), (0, skynode_1.el)("td", (0, skynode_1.el)(".chain-container", (0, skynode_1.el)("img", { src: "/images/shared/icn/icn-ethereum.svg", alt: "icn-ethereum" }), (0, skynode_1.el)("p", "Ethereum"))), (0, skynode_1.el)("td", (0, skynode_1.el)("p", "30 APM")), (0, skynode_1.el)("td", (0, skynode_1.el)("p", "3 APM")), (0, skynode_1.el)("td", (0, skynode_1.el)("p", "2021-12-14 17:00:00")), (0, skynode_1.el)("td", (0, skynode_1.el)(".status-container", (0, skynode_1.el)("a", "Etherscan"), (0, skynode_1.el)("a", "Klaytnscope")))), (0, skynode_1.el)("tr", (0, skynode_1.el)("td", (0, skynode_1.el)(".chain-container", (0, skynode_1.el)("img", { src: "/images/shared/icn/icn-ethereum.svg", alt: "icn-ethereum" }), (0, skynode_1.el)("p", "Ethereum"))), (0, skynode_1.el)("td", (0, skynode_1.el)(".chain-container", (0, skynode_1.el)("img", { src: "/images/shared/icn/icn-klaytn.svg", alt: "icn-klaytn" }), (0, skynode_1.el)("p", "Klaytn"))), (0, skynode_1.el)("td", (0, skynode_1.el)("p", "30 APM")), (0, skynode_1.el)("td", (0, skynode_1.el)("p", "3 APM")), (0, skynode_1.el)("td", (0, skynode_1.el)("p", "2021-12-14 17:00:00")), (0, skynode_1.el)("td", (0, skynode_1.el)("button", "Retry")))))));
    }
    numberWithCommas(x, fixed = 3) {
        const parts = String(+(+x).toFixed(fixed)).split(".");
        parts[0] = parts[0].replace(/\B(?=(\d{3})+(?!\d))/g, ",");
        return parts.join(".");
    }
}
exports.default = Swaper;
//# sourceMappingURL=Swaper.js.map